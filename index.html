<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carbon Offset Survey</title>
</head>

<body>
    <h2>Carbon Offset Survey</h2>

    <form id="carbonOffsetForm">
        <label for="recipient_name">Your Name:</label>
        <input type="text" id="recipient_name" name="recipient_name" required><br><br>

        <label for="recipient_email">Your Email:</label>
        <input type="email" id="recipient_email" name="recipient_email" required><br><br>

        <label for="car_distance">Distance Driven (in kilometers):</label>
        <input type="number" id="car_distance" name="car_distance" required><br><br>

        <button type="submit">Calculate Emissions</button>
    </form>

    <div id="result"></div>

    <script>
        document.getElementById('carbonOffsetForm').addEventListener('submit', function (event) {
            event.preventDefault();

            // Collecting the input values from the form
            const recipientName = document.getElementById('recipient_name').value;
            const recipientEmail = document.getElementById('recipient_email').value;
            const carDistance = document.getElementById('car_distance').value;

            // This is the structure you will send to Make.com
            const payload = {
                "calculation_options": [
                    {
                        "type": "travel-land",
                        "activity": "cars_by_market_segment",
                        "specification": "average",
                        "detail": "average",
                        "value": parseFloat(carDistance),  // User input for distance
                        "unit": "kilometers"
                    }
                ],
                "recipient_name": recipientName,
                "recipient_email": recipientEmail
            };

            // Simulate sending data to Make.com (you would use the real URL for Make.com Webhook)
            // Here we would use fetch or another method to submit this data to Make.com
            console.log('Payload to send:', JSON.stringify(payload));

            // Display the result (in a real app, this would be based on API response)
            document.getElementById('result').innerHTML = "Submitted! Please check your email for carbon offset details.";
        });
    </script>
</body>

</html>